// Variables
$border-radius: 8px;
$border-radius-small: 5px;
$padding-sm: 4px;
$padding-md: 8px;
$padding-lg: 12px;
$gap-sm: 8px;
$font-size-base: 14px;
$min-width: 160px;
$z-index-context-menu: 1000;
$transition-fast: 0.1s ease;
$transition-medium: 0.2s ease-out;

// Colors - Light theme
$color-bg-primary: #ffffff;
$color-bg-hover: #f6f8fa;
$color-bg-focus: #0969da;
$color-border: #e1e5e9;
$color-text-primary: #1f2328;
$color-text-secondary: #656d76;
$color-text-disabled: #8c959f;
$color-text-inverted: #ffffff;
$color-shadow: rgba(0, 0, 0, 0.1);

// Colors - Dark theme
$color-bg-primary-dark: #24292f;
$color-bg-hover-dark: #30363d;
$color-border-dark: #30363d;
$color-text-primary-dark: #f0f6fc;
$color-text-secondary-dark: #8b949e;
$color-text-disabled-dark: #7d8590;

// Font stack
$font-family-system: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

// Animation keyframes
@keyframes contextMenuShow {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-2px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes contextMenuHide {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }

    to {
        opacity: 0;
        transform: scale(0.95) translateY(-2px);
    }
}

// Base styles
.content {
    background-color: $color-bg-primary;
    border: 1px solid $color-border;
    border-radius: $border-radius;
    box-shadow: 0 4px 12px $color-shadow;
    padding: $padding-sm 0;
    min-width: $min-width;
    z-index: $z-index-context-menu;
    font-size: $font-size-base;
    font-family: $font-family-system;

    &[data-state="open"] {
        animation: contextMenuShow $transition-medium;
    }

    &[data-state="closed"] {
        animation: contextMenuHide ease-in $transition-medium;
    }
}

.trigger {
    width: 100%;
    height: 100%;
}

.arrow {
    fill: $color-bg-primary;
    stroke: $color-border;
    stroke-width: 1px;
}

.item {
    display: flex;
    align-items: center;
    gap: $gap-sm;
    padding: $padding-md $padding-lg;
    cursor: pointer;
    background: none;
    border: none;
    width: 100%;
    text-align: left;
    color: $color-text-primary;
    transition: background-color $transition-fast;

    &:hover {
        background-color: $color-bg-hover;
    }

    &:focus {
        background-color: $color-bg-focus;
        color: $color-text-inverted;
        outline: none;

        .icon {
            color: $color-text-inverted;
        }
    }

    &[data-disabled] {
        color: $color-text-disabled;
        cursor: not-allowed;

        &:hover {
            background-color: transparent;
        }
    }
}

.icon {
    color: $color-text-secondary;
    flex-shrink: 0;
}

.label {
    flex: 1;
    font-weight: 400;
}

.separator {
    height: 1px;
    background-color: $color-border;
    margin: $padding-sm 0;
}

// Dark theme support
@media (prefers-color-scheme: dark) {
    .content {
        background-color: $color-bg-primary-dark;
        border-color: $color-border-dark;
        color: $color-text-primary-dark;
    }

    .arrow {
        fill: $color-bg-primary-dark;
        stroke: $color-border-dark;
    }

    .item {
        color: $color-text-primary-dark;

        &:hover {
            background-color: $color-bg-hover-dark;
        }

        &:focus {
            background-color: $color-bg-focus;
        }

        &[data-disabled] {
            color: $color-text-disabled-dark;
        }
    }

    .icon {
        color: $color-text-secondary-dark;
    }

    .separator {
        background-color: $color-border-dark;
    }
}